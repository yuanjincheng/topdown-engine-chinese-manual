 <span id="mulu"></span>

# 复位              

[1. 复位是如何工作的](#1)  
 
[2. 检查点](#2)  
 
<p id="1"></p>              

## 1. 复位是如何工作的
 
在大多数topdown的游戏中，你的角色会受到伤害，并在生命值为零时死亡。在TopDown引擎中，这也是默认行为。当你的角色受到伤害时，一个相对复杂的事件链就开始了:

    你的角色受到X点伤害，这是由你角色的生命值组件处理的

    失去X点生命值

    如果它的生命值低于0，那么生命值组件就会调用Kill()方法并告诉LevelManager玩家已经死亡

    LevelManager会重置关卡，触发玩家和场景中的其他物体的重生

重生是通过检查玩家最后到达的检查点，重新定位玩家，并重生所有在该检查点注册的对象。检查点在检查器中有一个CheckPointOrder值分配给它们。这个顺序将决定它们应该以何种顺序达成。你也可以在他们上ForceAssignation，这意味着一个字符进入一个ForceAssignation检查点将考虑检查点是最后它通过。

如果你想让你的敌人或对象重生，只需要在他们身上添加一个自动重生组件
 
[返回目录](#mulu)

<p id="2"></p>              

## 2. 检查点
 
 ![示例图片](/images/checkpoints-1.png)

 当游戏运行时，检查点在场景视图中由一条绿线连接。

 在TopDown Engine中创建和放置检查点非常简单。你所要做的就是创建一个空的游戏对象，并添加检查点组件。它还需要一个碰撞器组件，可以是2D的，也可以是3D的，这取决于你所使用的角色类型。它的形状无关紧要，它可以是BoxCollider, CircleCollider, SphereCollider等等，确保你将它的IsTrigger设置为true。

你所要做的就是改变对撞机的大小。这个大小将决定触发检查点的区域，使它足够大，以便你的角色不会错过它。您还可以从检查点组件的检查器设置朝向方向。这是你的玩家角色重生时所面对的方向。

然后你可以在场景中设置检查点，并添加更多检查点。您可以做的最后一件事是在检查点检查器中设置CheckPointOrder。检查点应该按升序编号。当你按下播放键时，你会看到所有的检查点都被一条绿色的线连接在一起。

[返回目录](#mulu)