 <span id="mulu"></span>

# 碰撞              

[1. 入门](#1)  
 
[2. Layers](#2)  
 
[3. Tags](#3) 
 

<p id="1"></p>              

## 1. 入门
 
无论是2D还是3D版本，引擎的TopDownControllers都是建立在Unity的基础上。2D版本将使用RigidBody2D，而3D版本将使用CharacterController。所以对于碰撞，你需要colliders，设置在你的角色和障碍/地面等。
 
[返回目录](#mulu)

<p id="2"></p>              

## 2. Layers
 
该引擎依靠层来识别特定的对象，特别是墙壁和代理。图层是你可以关联游戏对象的元数据，然后你可以使用它们通过图层蒙版(Layer mask，一种选择的图层)在特定的图层上投射光线。注意层和排序层是完全不同的东西。在TopDown Engine中没有关于排序层的限制或命名约定

以下是该引擎使用的主要Layers列表。请注意，唯一的强制要求是与平台相关的:
    Ground :无论你是2D还是3D，这都标志着碰撞器将被你的角色视为地面(和可行走)。当在2D和使用贴图时，你的地面的CompositeCollider2D的几何类型设置为多边形是很重要的。你可以在引擎的多个演示场景中看到这样的例子，例如Koala2D。

    Obstacles :将阻止你的角色行走的碰撞器，如果他们在隧道中，他们将无法站起来，并将阻止你的子弹。

    MovingPlatform:用于所有移动平台。

    Enemies:放置所有属于敌人的碰撞器(会伤害或被你的角色伤害)

    Hole :仅针对2D，用这个标签标记colliders，角色就会认为它们是他们可以掉进去的洞

    FallingPlatform:用于所有掉落平台

    Projectile:放置所有子弹colliders的一层

    Player:放置玩家碰撞器的图层

    ObstaclesDoors:在3D门周围设置特定安全区域的特殊层，将信息传达给寻径AI

    NoPathfinding:放置你希望寻径ai避免的碰撞器的层
 
 这些层，就像在任何Unity项目中一样，依赖于物理碰撞矩阵来决定它们可以与哪些层进行交互或碰撞。你可以通过编辑>项目设置>物理(或2D控制器的Physics2D)来编辑碰撞矩阵。在那里，您将看到一个复选框矩阵，只要确保您想要交互的两层的交集被选中。例如，如果你想让你的玩家能够与其他玩家碰撞，确保玩家/玩家复选框被选中

[返回目录](#mulu)

<p id="3"></p>              

## 3. Tags
 
标签是元数据，你可以添加到你的游戏对象中，以便从其他脚本中更容易找到它们。这个引擎完全不依赖于标签。尽管如此，请随意在您的脚本中使用它们!
 
[返回目录](#mulu)
