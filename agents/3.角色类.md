 <span id="mulu"></span>

# 角色类

[1. 入门](#1)  
 
[2. 2D规格组件](#2)  
 
[3. 3D规格组件](#3) 
 
[4. 控制器](#4) 

[5. 角色](#5) 

[6. 血量](#6) 

[7. 角色能力](#7)

[8. 层级](#8)

<p id="1"></p>   

## 1.入门

引擎中的每个角色都需要一些组件才能工作。有些是2D的，有些是3D的。大多数都是通用的。这个页面将给你主要的信息，你需要知道如何在TopDown引擎中平稳地创建角色.

[返回目录](#mulu)  

<p id="2"></p>  

## 2.2D规格组件

引擎中的每个角色都需要一些组件才能工作。有些是2D的，有些是3D的。大多数都是通用的。这个页面将给你主要的信息，你需要知道如何在TopDown引擎中平稳地创建角色.

![示例图片](/images/character-classes-1.png)
2D角色的刚体和碰撞器设置

如果你打算创造一个2D角色，你将需要一个RigidBody2D组件(动态，连续碰撞检测，启动唤醒，插值)，以及一个BoxCollider2D(非触发)。关于设置对撞机并没有什么规则或义务，但我希望我的对撞机能够包含角色底部的一半，就像上图所示。这将让角色的头部能够到达上方的墙壁前，并让玩家产生角色在“地面”上所处位置的错觉。

另外，您可能希望使用SortingGroup组件，将其设置为字符排序层。这将自动处理排序，这样你的角色就会出现在Y轴下方的对象的“后面”，以及Y轴上方的对象的“前面”

[返回目录](#mulu)  

<p id="3"></p>  

## 3.3D规格组件

![示例图片](/images/character-classes-2.png)
3D角色的刚体和碰撞器设置

如果你打算创造一个3D角色，你将需要一个RigidBody(运动学，使用重力，离散碰撞检测)和一个角色控制器

[返回目录](#mulu)  

<p id="4"></p>  

## 4.控制器

然后你的角色将需要一个TopDownController。选择TopDownController2D或TopDownController3D版本，而不是基础版本。两者的设置略有不同，但最重要的是你要确保图层蒙版的设置正确(控制器应该考虑的层，如地面，墙壁等)。这两个控制器的设计都是为了提供紧密的，响应控制。根据设计，你无法在3D中使用根运动。当然这是有可能的，如果你觉得你真的想这么做，推荐的方法是扩展top - down Controller 3D来添加对它的支持

[返回目录](#mulu)  

<p id="5"></p>  

## 5.角色

这是连接所有其他类的中心类。它本身没有什么作用，但它实际上是一个中心点。在这里你可以定义玩家是否属于AI或受玩家控制，以及它的模型和动画师的位置等等。它也是在运行时控制所有角色能力的类。

这是一个非常核心的阶层。从它的检查器中，你可以定义一些东西。如果是玩家角色，PlayerID字段非常重要。它必须与InputManager中的字符完全匹配(这就是InputManager知道要控制哪些字符的方式)。

[返回目录](#mulu)  

<p id="6"></p>  

## 6.层级

![示例图片](/images/howtocharacter-6.png)
角色的推荐层次结构

无论你如何创造你的角色，有一件事是非常重要的，那就是理解如何构造它。你需要将逻辑(RigidBody, TopDownController，角色能力等)与视觉效果(你的模型/精灵/ Spine设置等)分离开来。你可以有更多的层(也许你的动画师坐在自己的层上，等等)，但推荐的设置是上面的图片:一个包含所有逻辑的顶层，模型嵌套在里面。
![示例图片](/images/howtocharacter-7.png)
让角色组件知道动画和模型的位置

确保你从检查器中将模型链接到角色类，动画师也是如此。其他一些类(定向能力，生命值)也可能需要你通过检查器告诉他们模型或动画师在哪里

[返回目录](#mulu)  